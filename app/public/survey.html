<html>
   <head>
    <title>Find A Friend</title>
    <meta name = "viewport" content = "width = device-width, initial-scale = 1"> 
    <link href="public/ff.css" rel="stylesheet" type="text/css"/>
    <link rel = "stylesheet" href = "https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css">
    <script type = "text/javascript" src = "https://code.jquery.com/jquery-2.1.1.min.js"></script>           
    <script src = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>
          <script>
                    $(document).ready(function() {
                       $('select').material_select();
                    });
                 </script>
   </head>
   
   <body>
    <div class="container">   
      <div class="row">
         <form class="col s12">
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">account_circle</i>
                    <input id="name" type="text" class="validate" required>
                    <label for="icon_prefix">Name</label>
                </div>
            </div>
            <div class = "row">
                <label>Link to Your Image</label>
               <input id="photo" type="text" class="validate" required>
            </div>
            <div class = "row">
               <div class = "input-field col s12">
                    <select class="choices" id="one" required>
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How much do you enjoy to travel?</label>
               </div>
            </div>   
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="two">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How much exercise do you do to stay healthy? </label>
                </div>
            </div>
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="three">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How often do you express your political views? </label>
                </div>
            </div>     
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="four">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How frequently do you engaged with social media platforms? </label>
                </div>
            </div>     
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="five">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How frequently do you go out to bars or clubs? </label>
                </div>
            </div> 
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="six">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How often you do you hang out with friends?</label>
                </div>
            </div>          
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="seven">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How much time do you spend listening to music?</label>
                </div>
            </div> 
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="eight">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardlyever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How often do you watch television?</label>
                </div>
            </div>          
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="nine">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Some times</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How often do you spend holidays with family?</label>
                </div>
            </div>          
            <div class = "row">
                <div class = "input-field col s12">
                    <select class="choices" id="ten">
                        <option value="" disabled selected>Choose One</option>
                        <option value="1">Never</option>
                        <option value="2">Hardly ever</option>
                        <option value="3">Sometimes</option>
                        <option value="4">Often</option>
                        <option value="5">Always</option>
                    </select>
                    <label class="question">How often do you clean your kitchen?</label>
                </div>
<div></div>
        
            <button id="submit"  data-target="modal1" class="btn waves-effect waves-light modal-trigger" type="submit" name="action" style="background-color: #4A458F">Submit
                <i class="material-icons right">send</i>
            </button>

 
  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Meet Your New Best Friend</h4>
      <h5 id="matchName"></h5>
      <img id="matchPic">
    </div>
    <div class="modal-footer">
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div>
                                                                     
     </form>  

     <script type="text/javascript">
        $(document).ready(function(){

            $('.modal-trigger').leanModal();

           $('#submit').on('click', function(event) {
               event.preventDefault();
               
               function validateData(){
               
                   var isBueno = true;
                   $(".validate").each(function(){
                       if($(this).val() === '') {
                           isBueno = false;
                           alert("Please fill out all the fields")
                       }
                   })
                    $("select").each(function(){
                       if($(this).val() === null) {
                           isBueno = false;
                       }
                   })
                   return isBueno;
               }
                if(validateData() === true){
               var userData = {
                    name: $("#name").val().trim(),
                    photo: $("#photo").val().trim(),
                    scores: [
                        $("#one").val(),
                        $("#two").val(),
                        $("#three").val(),
                        $("#four").val(),
                        $("#five").val(),
                        $("#six").val(),
                        $("#seven").val(),
                        $("#eight").val(),
                        $("#nine").val(),
                        $("#ten").val(),              
                    ]
                } 

                }else{alert("Please complete the form")}
    
                $.post("/api/friends", userData).done(function(data){
                    $("#matchName").text(data.name);
                    $("#matchPic").attr("src", data.photo);
                })
                
            })
           
            
        })
        
        
        </script> 

   
   
         </div>
      </div>
   </body>   
</html>
